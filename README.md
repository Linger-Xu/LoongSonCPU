# LoongSonCPU - 龙芯架构CPU设计项目

## 项目简介
LoongSonCPU是基于LoongArch32位精简版指令集的处理器设计项目，采用六级流水线结构，实现了72条整数及特权指令。**本项目在第八届全国大学生计算机系统能力培养大赛（龙芯杯）全国总决赛中获得团体赛三等奖**。


## 该项目：
⚡ **最高运行频率45MHz**  
✅ **通过全部58个功能测试点**  
🔧 **支持精确例外与中断机制**



## 项目结构
```
LoongSonCPU/
├── CPU58/                # 核心设计文件
│   ├── CSR.v            # 控制状态寄存器
│   ├── EX_stage.v       # 执行阶段
│   ├── ID_stage.v       # 译码阶段
│   ├── IF_stage.v       # 取指阶段
│   ├── MEM_stage.v      # 访存阶段
│   ├── WB_stage.v       # 写回阶段
│   ├── alu.v           # 算术逻辑单元
│   ├── axi_inter.v     # AXI接口
│   ├── mycpu_top.v     # 顶层模块
│   └── ...            # 其他模块
├── func/               # 功能测试相关
└── chiplab-chiplab_diff.zip  # 测试环境
```

## 技术亮点
### 微架构设计
- **六级流水线**：PIF-IF-ID-EX-MEM-WB
- **精确例外机制**：支持四级流水线例外检查
- **AXI接口**：提供高效内存访问

### 关键模块
1. **乘除法器**：
   - 支持有符号/无符号运算
   - 状态机控制的除法流程
   - 复位机制保证稳定性

2. **优化技术**：
   - 消除冗余逻辑
   - 平衡路径延迟
   - 面积换时序策略

## 性能指标
| 测试项目 | 性能分 | 备注 |
|---------|--------|------|
| bitcount | 0.0348 | 位操作测试 |
| coremark | 0.0363 | 综合性能测试 |
| quick_sort | 0.0401 | 排序算法测试 |
| **最高频率** | 45MHz | 性能测试环境 |

## 快速开始
### 功能测试
1. 将`mycpu`文件夹复制到功能测试根目录
2. 在Vivado中运行`create_project.tcl`
3. 添加源代码并综合
4. 生成比特流并烧写FPGA

### 性能测试
1. 打开`soc_axi_perfrun_vivado`工程
2. 添加源代码
3. 综合并生成比特流
4. 按序运行10个测试程序

## 参考文献
1. 《龙芯架构32位精简版参考手册》
2. 《CPU设计实战》
3. OpenLA500参考设计


